<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Tabular data &#8212; cogent3 2020.2.7a documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="../_static/require.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Building alignments" href="building_alignments.html" />
    <link rel="prev" title="Phylonodes Methods" href="phylonodes.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          Docs</a>
        <span class="navbar-text navbar-version pull-left"><b>2020.2.7a</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../install.html">Install</a></li>
                <li><a href="../draw/index.html">Gallery</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Sections <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pycogent.html">How does <code class="docutils literal notranslate"><span class="pre">cogent3</span></code> relate to PyCogent?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app/index.html">The <code class="docutils literal notranslate"><span class="pre">apps</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../draw/index.html">Image Gallery</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Usage Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_file_links.html">Data Files Used in the Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licenses.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general.html">Posting Bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general.html#citation">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general.html#support">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general.html#search">Search</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Tabular data</a><ul>
<li><a class="reference internal" href="#iterating-over-table-rows">Iterating over table rows</a></li>
<li><a class="reference internal" href="#iterating-over-table-columns">Iterating over table columns</a></li>
<li><a class="reference internal" href="#table-slicing-using-column-names">Table slicing using column names</a></li>
<li><a class="reference internal" href="#table-slicing-using-column-indices">Table slicing using column indices</a></li>
<li><a class="reference internal" href="#changing-displayed-numerical-precision">Changing displayed numerical precision</a></li>
<li><a class="reference internal" href="#change-digits-or-column-spacing">Change digits or column spacing</a></li>
<li><a class="reference internal" href="#changing-column-headings">Changing column headings</a></li>
<li><a class="reference internal" href="#adding-a-new-column">Adding a new column</a></li>
<li><a class="reference internal" href="#create-a-new-column-from-existing-ones">Create a new column from existing ones</a></li>
<li><a class="reference internal" href="#get-table-data-as-a-numpy-array">Get table data as a numpy array</a></li>
<li><a class="reference internal" href="#get-a-table-column-as-a-list">Get a table column as a list</a></li>
<li><a class="reference internal" href="#get-multiple-table-columns-as-a-list">Get multiple table columns as a list</a></li>
<li><a class="reference internal" href="#get-the-table-as-a-row-oriented-dict">Get the table as a row oriented <code class="docutils literal notranslate"><span class="pre">dict</span></code></a></li>
<li><a class="reference internal" href="#get-the-table-as-a-column-oriented-dict">Get the table as a column oriented <code class="docutils literal notranslate"><span class="pre">dict</span></code></a></li>
<li><a class="reference internal" href="#get-the-table-as-a-pandas-dataframe">Get the table as a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></li>
<li><a class="reference internal" href="#appending-tables">Appending tables</a></li>
<li><a class="reference internal" href="#summing-a-single-column">Summing a single column</a></li>
<li><a class="reference internal" href="#summing-multiple-columns-or-rows-strictly-numerical-data">Summing multiple columns or rows - strictly numerical data</a></li>
<li><a class="reference internal" href="#summing-multiple-columns-or-rows-with-mixed-non-numeric-numeric-data">Summing multiple columns or rows with mixed non-numeric/numeric data</a></li>
<li><a class="reference internal" href="#filtering-table-rows">Filtering table rows</a></li>
<li><a class="reference internal" href="#filtering-table-columns">Filtering table columns</a></li>
<li><a class="reference internal" href="#standard-sorting">Standard sorting</a></li>
<li><a class="reference internal" href="#reverse-sorting">Reverse sorting</a></li>
<li><a class="reference internal" href="#sorting-involving-multiple-columns-one-reversed">Sorting involving multiple columns, one reversed</a></li>
<li><a class="reference internal" href="#getting-raw-data-for-a-single-column">Getting raw data for a single column</a></li>
<li><a class="reference internal" href="#getting-raw-data-for-multiple-columns">Getting raw data for multiple columns</a></li>
<li><a class="reference internal" href="#getting-distinct-values">Getting distinct values</a></li>
<li><a class="reference internal" href="#counting-occurrences-of-values">Counting occurrences of values</a></li>
<li><a class="reference internal" href="#joining-or-merging-tables">Joining or merging tables</a></li>
<li><a class="reference internal" href="#specify-markdown-as-the-str-format">Specify markdown as the <code class="docutils literal notranslate"><span class="pre">str()</span></code> format</a></li>
<li><a class="reference internal" href="#specify-latex-as-the-str-format">Specify latex as the <code class="docutils literal notranslate"><span class="pre">str()</span></code> format</a></li>
<li><a class="reference internal" href="#get-a-table-as-a-markdown-formatted-string">Get a table as a markdown formatted string</a></li>
<li><a class="reference internal" href="#get-a-table-as-a-latex-formatted-string">Get a table as a latex formatted string</a></li>
<li><a class="reference internal" href="#get-a-table-as-a-restructured-text-csv-table">Get a table as a restructured text csv-table</a></li>
<li><a class="reference internal" href="#get-a-table-as-a-restructured-text-grid-table">Get a table as a restructured text grid table</a></li>
<li><a class="reference internal" href="#what-formats-can-be-written">What formats can be written?</a></li>
<li><a class="reference internal" href="#writing-delimited-formats">Writing delimited formats</a></li>
<li><a class="reference internal" href="#writing-latex-format">Writing latex format</a></li>
<li><a class="reference internal" href="#writing-bedgraph-format">Writing bedGraph format</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="phylonodes.html" title="Previous Chapter: Phylonodes Methods"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Phylonodes Methods</span>
    </a>
  </li>
  <li>
    <a href="building_alignments.html" title="Next Chapter: Building alignments"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Building alignments &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="tabular-data">
<h1>Tabular data<a class="headerlink" href="#tabular-data" title="Permalink to this headline">¶</a></h1>
<p>Table handles tabular data, storing as columns in a, you guessed it, <code class="docutils literal notranslate"><span class="pre">columns</span></code> attribute. The latter acts like a dictionary, with the column names as the keys and the column values being  <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> instances. The table itself is iterable over rows.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">Table</span></code> is immutable at the level of the individual <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> not being writable.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">Table</span></code> can be interconverted from a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>.</p>
</div>
<div class="section" id="iterating-over-table-rows">
<h2>Iterating over table rows<a class="headerlink" href="#iterating-over-table-rows" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Table</span></code> is a row oriented object. Iterating on the table returns each row as a new <code class="docutils literal notranslate"><span class="pre">Table</span></code> instance.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cogent3</span> <span class="kn">import</span> <span class="n">load_table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">break</span>
<span class="gp">...</span>
<span class="go">=============================</span>
<span class="go">    Locus    Region     Ratio</span>
<span class="go">-----------------------------</span>
<span class="go">NP_003077       Con    2.5386</span>
<span class="go">-----------------------------</span>
</pre></div>
</div>
<p>The resulting rows can be indexed using their column names.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;Locus&quot;</span><span class="p">])</span>
<span class="go">NP_003077</span>
<span class="go">NP_004893</span>
<span class="go">NP_005079</span>
<span class="go">NP_005500</span>
<span class="go">NP_055852</span>
</pre></div>
</div>
</div>
<div class="section" id="iterating-over-table-columns">
<h2>Iterating over table columns<a class="headerlink" href="#iterating-over-table-columns" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Table.columns</span></code> attribute is a <code class="docutils literal notranslate"><span class="pre">Columns</span></code> instance, an object with <code class="docutils literal notranslate"><span class="pre">dict</span></code> attributes.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cogent3</span> <span class="kn">import</span> <span class="n">load_table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">columns</span>
<span class="go">Columns(&#39;Locus&#39;: &lt;U9, &#39;Region&#39;: &lt;U6, &#39;Ratio&#39;: float64)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s2">&quot;Region&quot;</span><span class="p">])</span>
<span class="go">[&#39;Con&#39; &#39;Con&#39; &#39;Con&#39; &#39;NonCon&#39; &#39;NonCon&#39;]</span>
</pre></div>
</div>
<p>So iteration is the same as for dicts.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">Locus</span>
<span class="go">Region</span>
<span class="go">Ratio</span>
</pre></div>
</div>
</div>
<div class="section" id="table-slicing-using-column-names">
<h2>Table slicing using column names<a class="headerlink" href="#table-slicing-using-column-names" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">[:</span><span class="mi">2</span><span class="p">,</span> <span class="p">:</span><span class="s1">&#39;Region&#39;</span><span class="p">])</span>
<span class="go">=========</span>
<span class="go">    Locus</span>
<span class="go">---------</span>
<span class="go">NP_003077</span>
<span class="go">NP_004893</span>
<span class="go">---------</span>
</pre></div>
</div>
</div>
<div class="section" id="table-slicing-using-column-indices">
<h2>Table slicing using column indices<a class="headerlink" href="#table-slicing-using-column-indices" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">[:</span><span class="mi">2</span><span class="p">,:</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">=========</span>
<span class="go">    Locus</span>
<span class="go">---------</span>
<span class="go">NP_003077</span>
<span class="go">NP_004893</span>
<span class="go">---------</span>
</pre></div>
</div>
</div>
<div class="section" id="changing-displayed-numerical-precision">
<h2>Changing displayed numerical precision<a class="headerlink" href="#changing-displayed-numerical-precision" title="Permalink to this headline">¶</a></h2>
<p>We change the <code class="docutils literal notranslate"><span class="pre">Ratio</span></code> column to using scientific notation.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cogent3</span> <span class="kn">import</span> <span class="n">load_table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">format_column</span><span class="p">(</span><span class="s1">&#39;Ratio&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%.1e</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go">==============================</span>
<span class="go">    Locus    Region      Ratio</span>
<span class="go">------------------------------</span>
<span class="go">NP_003077       Con    2.5e+00</span>
<span class="go">NP_004893       Con    1.2e+05</span>
<span class="go">NP_005079       Con    9.5e+06</span>
<span class="go">NP_005500    NonCon    7.4e-08</span>
<span class="go">NP_055852    NonCon    1.1e+07</span>
<span class="go">------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="change-digits-or-column-spacing">
<h2>Change digits or column spacing<a class="headerlink" href="#change-digits-or-column-spacing" title="Permalink to this headline">¶</a></h2>
<p>This can be done on table loading,</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s1">&#39;data/stats.tsv&#39;</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">space</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go">=============================</span>
<span class="go">    Locus  Region       Ratio</span>
<span class="go">-----------------------------</span>
<span class="go">NP_003077     Con         2.5</span>
<span class="go">NP_004893     Con    121351.4</span>
<span class="go">NP_005079     Con   9516595.0</span>
<span class="go">NP_005500  NonCon         0.0</span>
<span class="go">NP_055852  NonCon  10933217.7</span>
<span class="go">-----------------------------</span>
</pre></div>
</div>
<p>or, for spacing at least, by modifying the attributes</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">space</span> <span class="o">=</span> <span class="s1">&#39;    &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go">=================================</span>
<span class="go">    Locus    Region         Ratio</span>
<span class="go">---------------------------------</span>
<span class="go">NP_003077       Con           2.5</span>
<span class="go">NP_004893       Con      121351.4</span>
<span class="go">NP_005079       Con     9516595.0</span>
<span class="go">NP_005500    NonCon           0.0</span>
<span class="go">NP_055852    NonCon    10933217.7</span>
<span class="go">---------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="changing-column-headings">
<h2>Changing column headings<a class="headerlink" href="#changing-column-headings" title="Permalink to this headline">¶</a></h2>
<p>The table <code class="docutils literal notranslate"><span class="pre">header</span></code> is immutable. Changing column headings is done as follows.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">header</span><span class="p">)</span>
<span class="go">(&#39;Locus&#39;, &#39;Region&#39;, &#39;Ratio&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">with_new_header</span><span class="p">(</span><span class="s1">&#39;Ratio&#39;</span><span class="p">,</span> <span class="s1">&#39;Stat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">header</span><span class="p">)</span>
<span class="go">(&#39;Locus&#39;, &#39;Region&#39;, &#39;Stat&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-a-new-column">
<h2>Adding a new column<a class="headerlink" href="#adding-a-new-column" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cogent3</span> <span class="kn">import</span> <span class="n">make_table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">make_table</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span>
<span class="go">0 rows x 0 columns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span>
<span class="go">======</span>
<span class="go">a    b</span>
<span class="go">------</span>
<span class="go">1    2</span>
<span class="go">3    4</span>
<span class="go">5    6</span>
<span class="go">------</span>

<span class="go">3 rows x 2 columns</span>
</pre></div>
</div>
</div>
<div class="section" id="create-a-new-column-from-existing-ones">
<h2>Create a new column from existing ones<a class="headerlink" href="#create-a-new-column-from-existing-ones" title="Permalink to this headline">¶</a></h2>
<p>This can be used to take a single, or multiple columns and generate a new column of values. Here we’ll take 2 columns and return True/False based on a condition.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">with_new_column</span><span class="p">(</span><span class="s1">&#39;LargeCon&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="k">lambda</span> <span class="n">r_v</span><span class="p">:</span> <span class="n">r_v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Con&#39;</span> <span class="ow">and</span> <span class="n">r_v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;</span><span class="mf">10.0</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Region&#39;</span><span class="p">,</span> <span class="s1">&#39;Ratio&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go">================================================</span>
<span class="go">    Locus    Region            Ratio    LargeCon</span>
<span class="go">------------------------------------------------</span>
<span class="go">NP_003077       Con           2.5386       False</span>
<span class="go">NP_004893       Con      121351.4264        True</span>
<span class="go">NP_005079       Con     9516594.9789        True</span>
<span class="go">NP_005500    NonCon           0.0000       False</span>
<span class="go">NP_055852    NonCon    10933217.7090       False</span>
<span class="go">------------------------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="get-table-data-as-a-numpy-array">
<h2>Get table data as a numpy array<a class="headerlink" href="#get-table-data-as-a-numpy-array" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">array</span>
<span class="go">array([[&#39;NP_003077&#39;, &#39;Con&#39;, 2.5386013224378985],</span>
<span class="go">       [&#39;NP_004893&#39;, &#39;Con&#39;, 121351.42635634111],</span>
<span class="go">       [&#39;NP_005079&#39;, &#39;Con&#39;, 9516594.978886133],</span>
<span class="go">       [&#39;NP_005500&#39;, &#39;NonCon&#39;, 7.382703020266491e-08],</span>
<span class="go">       [&#39;NP_055852&#39;, &#39;NonCon&#39;, 10933217.708952725]], dtype=object)</span>
</pre></div>
</div>
</div>
<div class="section" id="get-a-table-column-as-a-list">
<h2>Get a table column as a list<a class="headerlink" href="#get-a-table-column-as-a-list" title="Permalink to this headline">¶</a></h2>
<p>Via the <code class="docutils literal notranslate"><span class="pre">Table.tolist()</span></code> method.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locus</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">tolist</span><span class="p">(</span><span class="s2">&quot;Locus&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locus</span>
<span class="go">[&#39;NP_003077&#39;, &#39;NP_004893&#39;, &#39;NP_005079&#39;, &#39;NP_005500&#39;, &#39;NP_055852&#39;]</span>
</pre></div>
</div>
<p>Or directly from the column array object.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s2">&quot;Locus&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="go">[&#39;NP_003077&#39;, &#39;NP_004893&#39;, &#39;NP_005079&#39;, &#39;NP_005500&#39;, &#39;NP_055852&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="get-multiple-table-columns-as-a-list">
<h2>Get multiple table columns as a list<a class="headerlink" href="#get-multiple-table-columns-as-a-list" title="Permalink to this headline">¶</a></h2>
<p>This returns a row oriented list.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rows</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">tolist</span><span class="p">([</span><span class="s2">&quot;Region&quot;</span><span class="p">,</span> <span class="s2">&quot;Locus&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rows</span>
<span class="go">[[&#39;Con&#39;, &#39;NP_003077&#39;], [&#39;Con&#39;, &#39;NP_004893&#39;], ...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>column name order dictates the element order per row</p>
</div>
</div>
<div class="section" id="get-the-table-as-a-row-oriented-dict">
<h2>Get the table as a row oriented <code class="docutils literal notranslate"><span class="pre">dict</span></code><a class="headerlink" href="#get-the-table-as-a-row-oriented-dict" title="Permalink to this headline">¶</a></h2>
<p>Keys in the resulting dict are the row indices, the value is a dict of column name, value pairs.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
<span class="go">{0: {&#39;Locus&#39;: &#39;NP_003077&#39;, &#39;Region&#39;: &#39;Con&#39;, &#39;Ratio&#39;: ...</span>
</pre></div>
</div>
</div>
<div class="section" id="get-the-table-as-a-column-oriented-dict">
<h2>Get the table as a column oriented <code class="docutils literal notranslate"><span class="pre">dict</span></code><a class="headerlink" href="#get-the-table-as-a-column-oriented-dict" title="Permalink to this headline">¶</a></h2>
<p>Keys in the resulting dict are the column names, the value is a list.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
<span class="go">{&#39;Locus&#39;: [&#39;NP_003077&#39;, &#39;NP_004893&#39;,...</span>
</pre></div>
</div>
</div>
<div class="section" id="get-the-table-as-a-pandas-dataframe">
<h2>Get the table as a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code><a class="headerlink" href="#get-the-table-as-a-pandas-dataframe" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">       Locus  Region         Ratio</span>
<span class="go">0  NP_003077     Con  2.538601e+00</span>
<span class="go">1  NP_004893     Con  1.213514e+05</span>
<span class="go">2  NP_005079     Con  9.516595e+06</span>
<span class="go">3  NP_005500  NonCon  7.382703e-08</span>
<span class="go">4  NP_055852  NonCon  1.093322e+07</span>
</pre></div>
</div>
<p>You can also specify column(s) are categories</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="s2">&quot;Region&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="appending-tables">
<h2>Appending tables<a class="headerlink" href="#appending-tables" title="Permalink to this headline">¶</a></h2>
<p>Can be done without specifying a new column. Here we simply use the same table data.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table1</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">table1</span><span class="o">.</span><span class="n">appended</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">table2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go">====================================</span>
<span class="go">    Locus    Region            Ratio</span>
<span class="go">------------------------------------</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">------------------------------------</span>
</pre></div>
</div>
<p>or with a new column</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table1</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Data1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Data2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">table1</span><span class="o">.</span><span class="n">appended</span><span class="p">(</span><span class="s1">&#39;Data#&#39;</span><span class="p">,</span> <span class="n">table2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go">=============================================</span>
<span class="go">Data#        Locus    Region            Ratio</span>
<span class="go">---------------------------------------------</span>
<span class="go">Data1    NP_003077       Con           2.5386</span>
<span class="go">Data1    NP_004893       Con      121351.4264</span>
<span class="go">Data1    NP_005079       Con     9516594.9789</span>
<span class="go">Data1    NP_005500    NonCon           0.0000</span>
<span class="go">Data1    NP_055852    NonCon    10933217.7090</span>
<span class="go">Data2    NP_003077       Con           2.5386</span>
<span class="go">Data2    NP_004893       Con      121351.4264</span>
<span class="go">Data2    NP_005079       Con     9516594.9789</span>
<span class="go">Data2    NP_005500    NonCon           0.0000</span>
<span class="go">Data2    NP_055852    NonCon    10933217.7090</span>
<span class="go">---------------------------------------------</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We assigned an empty string to <code class="docutils literal notranslate"><span class="pre">title</span></code>, otherwise the resulting table has the same <code class="docutils literal notranslate"><span class="pre">title</span></code> attribute as that of <code class="docutils literal notranslate"><span class="pre">table1</span></code>.</p>
</div>
</div>
<div class="section" id="summing-a-single-column">
<h2>Summing a single column<a class="headerlink" href="#summing-a-single-column" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">summed</span><span class="p">(</span><span class="s1">&#39;Ratio&#39;</span><span class="p">)</span>
<span class="go">20571166.652...</span>
</pre></div>
</div>
<p>Because each column is just a <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, this also can be done directly via the array methods.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s2">&quot;Ratio&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="go">20571166.652...</span>
</pre></div>
</div>
</div>
<div class="section" id="summing-multiple-columns-or-rows-strictly-numerical-data">
<h2>Summing multiple columns or rows - strictly numerical data<a class="headerlink" href="#summing-multiple-columns-or-rows-strictly-numerical-data" title="Permalink to this headline">¶</a></h2>
<p>We define a strictly numerical table,</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cogent3</span> <span class="kn">import</span> <span class="n">make_table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_numeric</span> <span class="o">=</span> <span class="n">make_table</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span> <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
<span class="gp">... </span>                                <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">all_numeric</span><span class="p">)</span>
<span class="go">=============</span>
<span class="go">A     B     C</span>
<span class="go">-------------</span>
<span class="go">0     1     2</span>
<span class="go">3     4     5</span>
<span class="go">6     7     8</span>
<span class="go">9    10    11</span>
<span class="go">-------------</span>
</pre></div>
</div>
<p>and sum all columns (default condition)</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">all_numeric</span><span class="o">.</span><span class="n">summed</span><span class="p">()</span>
<span class="go">[18, 22, 26]</span>
</pre></div>
</div>
<p>and all rows</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">all_numeric</span><span class="o">.</span><span class="n">summed</span><span class="p">(</span><span class="n">col_sum</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[3, 12, 21, 30]</span>
</pre></div>
</div>
</div>
<div class="section" id="summing-multiple-columns-or-rows-with-mixed-non-numeric-numeric-data">
<h2>Summing multiple columns or rows with mixed non-numeric/numeric data<a class="headerlink" href="#summing-multiple-columns-or-rows-with-mixed-non-numeric-numeric-data" title="Permalink to this headline">¶</a></h2>
<p>We define a table with mixed data, like a distance matrix.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mixed</span> <span class="o">=</span> <span class="n">make_table</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span> <span class="n">data</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>                                                <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="s1">&#39;*&#39;</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mixed</span><span class="p">)</span>
<span class="go">===========</span>
<span class="go">A    B    C</span>
<span class="go">-----------</span>
<span class="go">*    1    2</span>
<span class="go">3    *    5</span>
<span class="go">6    7    *</span>
<span class="go">-----------</span>
</pre></div>
</div>
<p>and sum all columns (default condition), ignoring non-numerical data</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mixed</span><span class="o">.</span><span class="n">summed</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[9, 8, 7]</span>
</pre></div>
</div>
<p>and all rows</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mixed</span><span class="o">.</span><span class="n">summed</span><span class="p">(</span><span class="n">col_sum</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[3, 8, 13]</span>
</pre></div>
</div>
</div>
<div class="section" id="filtering-table-rows">
<h2>Filtering table rows<a class="headerlink" href="#filtering-table-rows" title="Permalink to this headline">¶</a></h2>
<p>We can do this by providing a reference to an external function</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sub_table</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">10.0</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Ratio&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sub_table</span><span class="p">)</span>
<span class="go">=============================</span>
<span class="go">    Locus    Region     Ratio</span>
<span class="go">-----------------------------</span>
<span class="go">NP_003077       Con    2.5386</span>
<span class="go">NP_005500    NonCon    0.0000</span>
<span class="go">-----------------------------</span>
</pre></div>
</div>
<p>or using valid python syntax within a string, which is executed</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sub_table</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span><span class="s2">&quot;Ratio &lt; 10.0&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sub_table</span><span class="p">)</span>
<span class="go">=============================</span>
<span class="go">    Locus    Region     Ratio</span>
<span class="go">-----------------------------</span>
<span class="go">NP_003077       Con    2.5386</span>
<span class="go">NP_005500    NonCon    0.0000</span>
<span class="go">-----------------------------</span>
</pre></div>
</div>
<p>You can also filter for values in multiple columns</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sub_table</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span><span class="s2">&quot;Ratio &lt; 10.0 and Region == &#39;NonCon&#39;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sub_table</span><span class="p">)</span>
<span class="go">=============================</span>
<span class="go">    Locus    Region     Ratio</span>
<span class="go">-----------------------------</span>
<span class="go">NP_005500    NonCon    0.0000</span>
<span class="go">-----------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="filtering-table-columns">
<h2>Filtering table columns<a class="headerlink" href="#filtering-table-columns" title="Permalink to this headline">¶</a></h2>
<p>We select only columns that have a sum &gt; 20 from the <code class="docutils literal notranslate"><span class="pre">all_numeric</span></code> table constructed above.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">big_numeric</span> <span class="o">=</span> <span class="n">all_numeric</span><span class="o">.</span><span class="n">filtered_by_column</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">big_numeric</span><span class="p">)</span>
<span class="go">========</span>
<span class="go"> B     C</span>
<span class="go">--------</span>
<span class="go"> 1     2</span>
<span class="go"> 4     5</span>
<span class="go"> 7     8</span>
<span class="go">10    11</span>
<span class="go">--------</span>
</pre></div>
</div>
</div>
<div class="section" id="standard-sorting">
<h2>Standard sorting<a class="headerlink" href="#standard-sorting" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">sorted</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Ratio&#39;</span><span class="p">))</span>
<span class="go">====================================</span>
<span class="go">    Locus    Region            Ratio</span>
<span class="go">------------------------------------</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">------------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="reverse-sorting">
<h2>Reverse sorting<a class="headerlink" href="#reverse-sorting" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">sorted</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Ratio&#39;</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="s1">&#39;Ratio&#39;</span><span class="p">))</span>
<span class="go">====================================</span>
<span class="go">    Locus    Region            Ratio</span>
<span class="go">------------------------------------</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">------------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="sorting-involving-multiple-columns-one-reversed">
<h2>Sorting involving multiple columns, one reversed<a class="headerlink" href="#sorting-involving-multiple-columns-one-reversed" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">sorted</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Region&#39;</span><span class="p">,</span> <span class="s1">&#39;Ratio&#39;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="s1">&#39;Ratio&#39;</span><span class="p">))</span>
<span class="go">====================================</span>
<span class="go">    Locus    Region            Ratio</span>
<span class="go">------------------------------------</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">------------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-raw-data-for-a-single-column">
<h2>Getting raw data for a single column<a class="headerlink" href="#getting-raw-data-for-a-single-column" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raw</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">tolist</span><span class="p">(</span><span class="s1">&#39;Region&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>
<span class="go">[&#39;Con&#39;, &#39;Con&#39;, &#39;Con&#39;, &#39;NonCon&#39;, &#39;NonCon&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-raw-data-for-multiple-columns">
<h2>Getting raw data for multiple columns<a class="headerlink" href="#getting-raw-data-for-multiple-columns" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raw</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">tolist</span><span class="p">([</span><span class="s1">&#39;Locus&#39;</span><span class="p">,</span> <span class="s1">&#39;Region&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>
<span class="go">[[&#39;NP_003077&#39;, &#39;Con&#39;], [&#39;NP_004893&#39;, &#39;Con&#39;], ...</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-distinct-values">
<h2>Getting distinct values<a class="headerlink" href="#getting-distinct-values" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">table</span><span class="o">.</span><span class="n">distinct_values</span><span class="p">(</span><span class="s1">&#39;Region&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;NonCon&#39;</span><span class="p">,</span> <span class="s1">&#39;Con&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="counting-occurrences-of-values">
<h2>Counting occurrences of values<a class="headerlink" href="#counting-occurrences-of-values" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">table</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;Region == &#39;NonCon&#39; and Ratio &gt; 1&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="joining-or-merging-tables">
<h2>Joining or merging tables<a class="headerlink" href="#joining-or-merging-tables" title="Permalink to this headline">¶</a></h2>
<p>We do a standard inner join here for a restricted subset. We must specify the columns that will be used for the join. Here we just use <code class="docutils literal notranslate"><span class="pre">Locus</span></code>.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rows</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;NP_004893&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;NP_005079&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;NP_005500&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;NP_055852&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">region_type</span> <span class="o">=</span> <span class="n">make_table</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Locus&#39;</span><span class="p">,</span> <span class="s1">&#39;LargeCon&#39;</span><span class="p">],</span> <span class="n">data</span><span class="o">=</span><span class="n">rows</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats_table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="n">stats_table</span><span class="o">.</span><span class="n">joined</span><span class="p">(</span><span class="n">region_type</span><span class="p">,</span> <span class="n">columns_self</span><span class="o">=</span><span class="s1">&#39;Locus&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">new</span><span class="p">)</span>
<span class="go">======================================================</span>
<span class="go">    Locus    Region            Ratio    right_LargeCon</span>
<span class="go">------------------------------------------------------</span>
<span class="go">NP_004893       Con      121351.4264              True</span>
<span class="go">NP_005079       Con     9516594.9789              True</span>
<span class="go">NP_005500    NonCon           0.0000             False</span>
<span class="go">NP_055852    NonCon    10933217.7090             False</span>
<span class="go">------------------------------------------------------</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the tables have titles, column names are prefixed with those instead of <code class="docutils literal notranslate"><span class="pre">right_</span></code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">joined()</span></code> method is just a wrapper for the <code class="docutils literal notranslate"><span class="pre">inner_join()</span></code> and <code class="docutils literal notranslate"><span class="pre">cross_join()</span></code> (row cartesian product) methods, which you can use directly.</p>
</div>
</div>
<div class="section" id="specify-markdown-as-the-str-format">
<h2>Specify markdown as the <code class="docutils literal notranslate"><span class="pre">str()</span></code> format<a class="headerlink" href="#specify-markdown-as-the-str-format" title="Permalink to this headline">¶</a></h2>
<p>Using the method provides finer control over formatting.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cogent3</span> <span class="kn">import</span> <span class="n">load_table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;md&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go">|     Locus | Region |         Ratio |</span>
<span class="go">|-----------|--------|---------------|</span>
<span class="go">| NP_003077 |    Con |        2.5386 |</span>
<span class="go">| NP_004893 |    Con |   121351.4264 |</span>
<span class="go">| NP_005079 |    Con |  9516594.9789 |</span>
<span class="go">| NP_005500 | NonCon |        0.0000 |</span>
<span class="go">| NP_055852 | NonCon | 10933217.7090 |</span>
</pre></div>
</div>
</div>
<div class="section" id="specify-latex-as-the-str-format">
<h2>Specify latex as the <code class="docutils literal notranslate"><span class="pre">str()</span></code> format<a class="headerlink" href="#specify-latex-as-the-str-format" title="Permalink to this headline">¶</a></h2>
<p>Using the method provides finer control over formatting.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cogent3</span> <span class="kn">import</span> <span class="n">load_table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;tex&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go">\begin{table}[htp!]</span>
<span class="go">\centering</span>
<span class="go">\begin{tabular}{ r r r }</span>
<span class="go">\hline</span>
<span class="go">\bf{Locus} &amp; \bf{Region} &amp; \bf{Ratio} \\</span>
<span class="go">\hline</span>
<span class="go">\hline</span>
<span class="go">NP_003077 &amp;    Con &amp;        2.5386 \\...</span>
</pre></div>
</div>
</div>
<div class="section" id="get-a-table-as-a-markdown-formatted-string">
<h2>Get a table as a markdown formatted string<a class="headerlink" href="#get-a-table-as-a-markdown-formatted-string" title="Permalink to this headline">¶</a></h2>
<p>We use the <code class="docutils literal notranslate"><span class="pre">justify</span></code> argument to indicate the column justification.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">to_markdown</span><span class="p">(</span><span class="n">justify</span><span class="o">=</span><span class="s2">&quot;ccr&quot;</span><span class="p">))</span>
<span class="go">|     Locus | Region |         Ratio |</span>
<span class="go">|:---------:|:------:|--------------:|</span>
<span class="go">| NP_003077 |    Con |        2.5386 |</span>
<span class="go">| NP_004893 |    Con |   121351.4264 |</span>
<span class="go">| NP_005079 |    Con |  9516594.9789 |</span>
<span class="go">| NP_005500 | NonCon |        0.0000 |</span>
<span class="go">| NP_055852 | NonCon | 10933217.7090 |</span>
</pre></div>
</div>
</div>
<div class="section" id="get-a-table-as-a-latex-formatted-string">
<h2>Get a table as a latex formatted string<a class="headerlink" href="#get-a-table-as-a-latex-formatted-string" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Some stats.&quot;</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="n">legend</span><span class="o">=</span><span class="s2">&quot;Derived from something.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">to_latex</span><span class="p">(</span><span class="n">justify</span><span class="o">=</span><span class="s2">&quot;ccr&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;tab:table1&quot;</span><span class="p">))</span>
<span class="go">\begin{table}[htp!]</span>
<span class="go">\centering</span>
<span class="go">\begin{tabular}{ c c r }...</span>
</pre></div>
</div>
</div>
<div class="section" id="get-a-table-as-a-restructured-text-csv-table">
<h2>Get a table as a restructured text csv-table<a class="headerlink" href="#get-a-table-as-a-restructured-text-csv-table" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Some stats.&quot;</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="n">legend</span><span class="o">=</span><span class="s2">&quot;Derived from something.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">to_rst</span><span class="p">(</span><span class="n">csv_table</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">.. csv-table:: Some stats.</span>
<span class="go">    :header: &quot;Locus&quot;, &quot;Region&quot;, &quot;Ratio&quot;</span>

<span class="go">    NP_003077, Con, 2.5386...</span>
</pre></div>
</div>
</div>
<div class="section" id="get-a-table-as-a-restructured-text-grid-table">
<h2>Get a table as a restructured text grid table<a class="headerlink" href="#get-a-table-as-a-restructured-text-grid-table" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Some stats.&quot;</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="n">legend</span><span class="o">=</span><span class="s2">&quot;Derived from something.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">to_rst</span><span class="p">())</span>
<span class="go">+------------------------------------+</span>
<span class="go">|            Some stats.             |</span>
<span class="go">+-----------+--------+---------------+</span>
<span class="go">|     Locus | Region |         Ratio |</span>
<span class="go">+===========+========+===============+</span>
<span class="go">| NP_003077 |    Con |        2.5386 |</span>
<span class="go">+-----------+--------+---------------...</span>
</pre></div>
</div>
</div>
<div class="section" id="what-formats-can-be-written">
<h2>What formats can be written?<a class="headerlink" href="#what-formats-can-be-written" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cogent3.format.table</span> <span class="kn">import</span> <span class="n">known_formats</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">known_formats</span>
<span class="go">(&#39;bedgraph&#39;, &#39;phylip&#39;, &#39;rest&#39;, &#39;rst&#39;, &#39;markdown&#39;, &#39;md&#39;, &#39;latex&#39;, &#39;tex&#39;, &#39;html&#39;, &#39;simple&#39;, &#39;csv&#39;, &#39;tsv&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-delimited-formats">
<h2>Writing delimited formats<a class="headerlink" href="#writing-delimited-formats" title="Permalink to this headline">¶</a></h2>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;stats_tab.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-latex-format">
<h2>Writing latex format<a class="headerlink" href="#writing-latex-format" title="Permalink to this headline">¶</a></h2>
<p>It is also possible to specify column alignment, table caption and other arguments.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">load_table</span><span class="p">(</span><span class="s2">&quot;data/stats.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;latex&#39;</span><span class="p">))</span>
<span class="go">\begin{table}[htp!]</span>
<span class="go">\centering</span>
<span class="go">\begin{tabular}{ r r r }</span>
<span class="go">\hline</span>
<span class="go">\bf{Locus} &amp; \bf{Region} &amp; \bf{Ratio} \\</span>
<span class="go">\hline</span>
<span class="go">\hline</span>
<span class="go">NP_003077 &amp;    Con &amp;        2.5386 \\</span>
<span class="go">NP_004893 &amp;    Con &amp;   121351.4264 \\</span>
<span class="go">NP_005079 &amp;    Con &amp;  9516594.9789 \\</span>
<span class="go">NP_005500 &amp; NonCon &amp;        0.0000 \\</span>
<span class="go">NP_055852 &amp; NonCon &amp; 10933217.7090 \\</span>
<span class="go">\hline</span>
<span class="go">\end{tabular}</span>
<span class="go">\end{table}</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-bedgraph-format">
<h2>Writing bedGraph format<a class="headerlink" href="#writing-bedgraph-format" title="Permalink to this headline">¶</a></h2>
<p>This format allows display of annotation tracks on genome browsers.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rows</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">104</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">104</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">151</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">151</span><span class="p">,</span> <span class="mi">152</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">152</span><span class="p">,</span> <span class="mi">153</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">153</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span> <span class="mi">155</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">155</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bgraph</span> <span class="o">=</span> <span class="n">make_table</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;chrom&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">],</span>
<span class="gp">... </span>                  <span class="n">rows</span><span class="o">=</span><span class="n">rows</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bgraph</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;bedgraph&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test track&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">description</span><span class="o">=</span><span class="s1">&#39;test of bedgraph&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span> 
<span class="go">track type=bedGraph name=&quot;test track&quot; description=&quot;test of bedgraph&quot; color=255,0,0</span>
<span class="go">1   100     108     1.12</span>
<span class="go">1   108     118     1.00</span>
<span class="go">1   118     161     2.00</span>

<span class="go">The bedgraph formatter defaults to rounding values to 2 decimal places. You can adjust that precision using the ``digits`` argument.</span>
</pre></div>
</div>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bgraph</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;bedgraph&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;test track&#39;</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">description</span><span class="o">=</span><span class="s1">&#39;test of bedgraph&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">digits</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span> 
<span class="go">track type=bedGraph name=&quot;test track&quot; description=&quot;test of bedgraph&quot; color=255,0,0</span>
<span class="go">1   100     118     1.00</span>
<span class="go">1   118     161     2.00</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020, cogent3 Team.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>